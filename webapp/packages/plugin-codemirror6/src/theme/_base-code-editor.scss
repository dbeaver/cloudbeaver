/*
 * CloudBeaver - Cloud Database Manager
 * Copyright (C) 2020-2023 DBeaver Corp and others
 *
 * Licensed under the Apache License, Version 2.0.
 * you may not use this file except in compliance with the License.
 */

@mixin base-code-editor() {
  .editor, .ReactCodemirror {
    width: 100%;
    height: 100%;
  }

  .editor {
    @include mdc-theme-prop(background-color, surface, false);
    @include mdc-theme-prop(color, on-surface, false);
  }

  .editor .cm-lineNumbers {
    @include mdc-theme-prop(color, on-secondary, false);
  }

  .editor .cm-scroller {
    outline: none;
  }

  .editor .cm-content {
    caret-color: $cursor;
  }

  .editor .cm-cursor {
    border-left-color: $cursor;
  }

  .editor .cm-dropCursor {
    border-left: 1.2px solid $cursor;
  }

  .editor .cm-gutters {
    @include mdc-theme-prop(background, secondary, false);
    @include mdc-theme-prop(color, on-secondary, false);
    @include mdc-theme-prop(border-color, background, false);
  }

  .editor .cm-activeLine {
    @include mdc-theme-prop(background, background, false);
  }

  .editor .cm-activeLineGutter {
    @include mdc-theme-prop(background, background, false);
  }

  .editor .active-query {
    @include mdc-theme-prop(background, secondary, false);
  }

  .editor .cm-content ::selection {
    color: white;
  }

  .editor .cm-line::selection,
  .editor .cm-line > :global(span)::selection,
  .editor .cm-line > :global(span) > :global(span)::selection {
    @include mdc-theme-prop(background, primary, false);
  }

  .editor .cm-line::-moz-selection,
  .editor .cm-line > :global(span)::-moz-selection,
  .editor .cm-line > :global(span) > :global(span)::-moz-selection {
    @include mdc-theme-prop(background, primary, false);
  }

  .editor .cm-gutters .cm-gutterElement {
    display: flex;
    align-items: center;
  }

  .editor .cm-gutters .query-status .cm-gutterElement .running-query-line {
    display: flex;
    height: 0;
    width: 0;
    margin-right: 4px;
    margin-left: 4px;
    border-top: 6px solid transparent;
    border-bottom: 6px solid transparent;
    border-left: 6px solid;
    @include mdc-theme-prop(border-left-color, primary, false);
  }

  .editor .cm-gutters .query-status .cm-gutterElement .running-query-error-line {
    display: flex;
    height: 0;
    width: 0;
    margin-right: 4px;
    margin-left: 4px;
    border-top: 6px solid transparent;
    border-bottom: 6px solid transparent;
    border-left: 6px solid;
    @include mdc-theme-prop(border-left-color, negative, false);
  }

  .editor .tok-keyword {
    color: $keyword;
    font-weight: bold;
  }

  .editor .tok-operator {
    color: $operator;
  }

  .editor .tok-variable-2 {
    color: $variable-2;
  }

  .editor .tok-variable-3,
  .editor .tok-type {
    color: $variable-3;
  }

  .editor .tok-builtin {
    color: $builtin;
  }

  .editor .tok-atom {
    color: $atom;
  }

  .editor .tok-number {
    color: $number;
  }

  .editor .tok-def {
    color: $def;
  }

  .editor .tok-string {
    color: $string;
  }

  .editor .tok-string2 {
    color: $string-2;
  }

  .editor .tok-comment {
    color: $comment;
  }

  .editor .tok-variable {
    color: $variable;
  }

  .editor .tok-tag {
    color: $tag;
  }

  .editor .tok-meta {
    color: $meta;
  }

  .editor .tok-attribute {
    color: $attribute;
  }

  .editor .tok-property {
    color: $property;
  }

  .editor .tok-qualifier {
    color: $qualifier;
  }

  .editor .tok-variable-3,
  .editor .tok-type {
    color: $variable-3;
  }
}
